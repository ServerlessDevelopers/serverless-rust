"use strict";(self.webpackChunkinteractive_docs=self.webpackChunkinteractive_docs||[]).push([[668],{5664:(e,n,o)=>{o.r(n),o.d(n,{CH:()=>h,assets:()=>c,chCodeConfig:()=>u,contentTitle:()=>r,default:()=>g,frontMatter:()=>t,metadata:()=>d,toc:()=>l});o(6540);var i=o(4848),s=o(8453),a=o(4754);const t={sidebar_position:5,title:"Invocation Methods",description:"A walkthrough of the different ways Lambda functions are invoked",keywords:["fundamentals"]},r="Lambda Invocation Modes",d={id:"fundamentals/invocation-modes",title:"Invocation Methods",description:"A walkthrough of the different ways Lambda functions are invoked",source:"@site/docs/fundamentals/invocation-modes.md",sourceDirName:"fundamentals",slug:"/fundamentals/invocation-modes",permalink:"/docs/fundamentals/invocation-modes",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,title:"Invocation Methods",description:"A walkthrough of the different ways Lambda functions are invoked",keywords:["fundamentals"]},sidebar:"tutorialSidebar",previous:{title:"Lambda Networking",permalink:"/docs/fundamentals/networking"},next:{title:"Cargo TOML File",permalink:"/docs/fundamentals/cargo-toml"}},c={},l=[{value:"Synchronous Invokes",id:"synchronous-invokes",level:2},{value:"Used In",id:"used-in",level:3},{value:"Asynchronous Invokes",id:"asynchronous-invokes",level:2},{value:"Used In",id:"used-in-1",level:3},{value:"Poll Based Invokes",id:"poll-based-invokes",level:2},{value:"Used In",id:"used-in-2",level:3}],h={annotations:a.hk,InlineCode:a.R0},u={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:void 0,showCopyButton:void 0,themeName:"dark-plus"};function m(e){const n=Object.assign({h1:"h1",p:"p",h2:"h2",img:"img",strong:"strong",h3:"h3",ul:"ul",li:"li",a:"a"},(0,s.R)(),e.components);return h||f("CH",!1),h.InlineCode||f("CH.InlineCode",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="dark-plus"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #D4D4D4;--ch-t-background: #1E1E1E;--ch-t-lighter-inlineBackground: #1e1e1ee6;--ch-t-editor-background: #1E1E1E;--ch-t-editor-foreground: #D4D4D4;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #007FD4;--ch-t-tab-activeBackground: #1E1E1E;--ch-t-tab-activeForeground: #ffffff;--ch-t-tab-inactiveBackground: #2D2D2D;--ch-t-tab-inactiveForeground: #ffffff80;--ch-t-tab-border: #252526;--ch-t-tab-activeBorder: #1E1E1E;--ch-t-editorGroup-border: #444444;--ch-t-editorGroupHeader-tabsBackground: #252526;--ch-t-editorLineNumber-foreground: #858585;--ch-t-input-background: #3C3C3C;--ch-t-input-foreground: #D4D4D4;--ch-t-icon-foreground: #C5C5C5;--ch-t-sideBar-background: #252526;--ch-t-sideBar-foreground: #D4D4D4;--ch-t-sideBar-border: #252526;--ch-t-list-activeSelectionBackground: #094771;--ch-t-list-activeSelectionForeground: #fffffe;--ch-t-list-hoverBackground: #2A2D2E; }'}}),"\n",(0,i.jsx)(n.h1,{id:"lambda-invocation-modes",children:"Lambda Invocation Modes"}),"\n",(0,i.jsx)(n.p,{children:"Let's discuss the different ways in which a Lambda function is invoked."}),"\n",(0,i.jsx)(n.h2,{id:"synchronous-invokes",children:"Synchronous Invokes"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:o(4087).A+"",loading:"lazy",alt:"Lambda synchronous invocation diagram",width:"268",height:"352"})}),"\n",(0,i.jsxs)(n.p,{children:["Synchronous invokes are how services like API Gateway integrate with Lambda. The caller, in this case an API, will invoke your Lambda function and ",(0,i.jsx)(n.strong,{children:"wait"})," for a response. The response from the Lambda function is returned back to the caller."]}),"\n",(0,i.jsx)(n.h3,{id:"used-in",children:"Used In"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"API Gateway"}),"\n",(0,i.jsx)(n.li,{children:"Application Load Balancers"}),"\n",(0,i.jsx)(n.li,{children:"Amazon Cognito"}),"\n",(0,i.jsx)(n.li,{children:"Amazon Lex"}),"\n",(0,i.jsx)(n.li,{children:"Amaxon Alexa"}),"\n",(0,i.jsx)(n.li,{children:"Amazon CloudFront"}),"\n",(0,i.jsx)(n.li,{children:"Amazon Kinesis Data Firehose"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"asynchronous-invokes",children:"Asynchronous Invokes"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:o(2929).A+"",loading:"lazy",alt:"Lambda asynchronous invocation diagram",width:"420",height:"406"})}),"\n",(0,i.jsx)(n.p,{children:"Asynchronous invokes are similar to synchronous invokes in that a caller makes a request directly to Lambda. The request is stored on an internal queue within the Lambda service, meaning the caller recives a fast response and can continue doing other work. The Lambda service then works through the internal queue passing requests to your function code, normally in batches."}),"\n",(0,i.jsx)(n.p,{children:"If your function returns an error, the Lambda service will automatically retry up to a total of 3 invocations. If after the 3rd invocation there is still a failure the message will either be dropped, or routed a dead letter queue."}),"\n",(0,i.jsxs)(n.p,{children:["It is possible to trace how long a request spends on the queue using the ",(0,i.jsx)(h.InlineCode,{codeConfig:u,code:{lines:[{tokens:[{content:"dwell time",props:{style:{color:"#9CDCFE"}}}]}],lang:"jsx"},children:"dwell time"})," segment in AWS X-Ray."]}),"\n",(0,i.jsx)(n.h3,{id:"used-in-1",children:"Used In"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Amazon SNS"}),"\n",(0,i.jsx)(n.li,{children:"Amazon S3 Events"}),"\n",(0,i.jsx)(n.li,{children:"Amazon SES"}),"\n",(0,i.jsx)(n.li,{children:"AWS CloudFormation"}),"\n",(0,i.jsx)(n.li,{children:"Amazon CloudWatch Logs"}),"\n",(0,i.jsx)(n.li,{children:"Amazon Event Bridge"}),"\n",(0,i.jsx)(n.li,{children:"AWS CodeCommit"}),"\n",(0,i.jsx)(n.li,{children:"AWS Config"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"poll-based-invokes",children:"Poll Based Invokes"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:o(1676).A+"",loading:"lazy",alt:"Lambda poll-based invocation diagram",width:"368",height:"478"})}),"\n",(0,i.jsx)(n.p,{children:"Poll based invokes allow you to integrate your Lambda function with stream or queue based sources without needing to manage the polling yourself. Lambda will poll the service, retrieve records, invoke your function and then manage the communication back to the stream or queue."}),"\n",(0,i.jsxs)(n.p,{children:["It's important to manage error handling when using poll based invokes. For example, if your function takes a message from Amazon SQS and then fails the message will go back on to the queue. Lambda will then pickup the message again, fail again and the message will go back on to the queue. This can happen indefinitely. Ensure you configure the ",(0,i.jsx)(n.a,{href:"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-dead-letter-queues.html",children:"redrive policy"})," on your SQS queue and manage failures within your function code."]}),"\n",(0,i.jsx)(n.h3,{id:"used-in-2",children:"Used In"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Amazon DynamoDB steams"}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/patterns/messaging-patterns/sam-lambda-kinesis-message-processor.md",children:"Amazon Kinesis"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/patterns/messaging-patterns/sam-lambda-sqs-message-processor.md",children:"Amazon SQS"})}),"\n"]})]})}const g=function(e={}){const{wrapper:n}=Object.assign({},(0,s.R)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(m,e)})):m(e)};function f(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},2929:(e,n,o)=>{o.d(n,{A:()=>i});const i=o.p+"assets/images/async-invokes-c617c2699050f13e96dbc49f2463f9e3.png"},1676:(e,n,o)=>{o.d(n,{A:()=>i});const i=o.p+"assets/images/poll-based-invokes-fc107fedea2e40a7317a3cb8489083be.png"},4087:(e,n,o)=>{o.d(n,{A:()=>i});const i=o.p+"assets/images/sync-invoke-51dd805b89755ad579eee4cc1c51d8f5.png"}}]);